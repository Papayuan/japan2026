<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 æ—¥æœ¬å®¶æ—æ—…éŠè¡Œç¨‹è¡¨</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --bg: #f4f7f6;
            --card-bg: #ffffff;
            --text: #333;
            --text-light: #666;
            --transport-color: #27ae60;
            --walk-color: #e67e22;
            --tip-color: #8e44ad;
            --food-color: #e74c3c;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding-bottom: 80px;
        }
        header {
            text-align: center;
            margin-bottom: 25px;
        }
        h1 {
            color: var(--primary);
            margin-bottom: 5px;
            font-size: 1.8em;
        }
        .subtitle {
            color: var(--text-light);
            font-size: 0.9em;
        }
        
        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            background: #e0e0e0;
            border-radius: 20px;
            padding: 4px;
            flex-wrap: wrap;
        }
        .nav-tab {
            flex: 1;
            text-align: center;
            padding: 8px;
            border-radius: 16px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9em;
            color: #666;
            min-width: 70px;
            margin: 2px;
        }
        .nav-tab.active {
            background: white;
            color: var(--primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .section { display: none; }
        .section.active { display: block; }

        .day-group { margin-bottom: 40px; }
        .date-header {
            background-color: var(--primary);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border-left: 5px solid var(--accent);
            position: relative;
        }
        
        .card.flight { border-left-color: #9b59b6; }
        .card.hotel { border-left-color: #e67e22; }
        .card.transport { border-left-color: var(--transport-color); }
        .card.food { border-left-color: #e74c3c; }
        .card.walk { border-left-color: var(--walk-color); background-color: #fffbf0; }
        .card.tip { border-left-color: var(--tip-color); background-color: #f3e5f5; }
        .card.restaurant { border-left-color: var(--food-color); background-color: #fffbfb; }

        .time {
            font-weight: bold;
            color: var(--accent);
            font-size: 0.9em;
            display: block;
            margin-bottom: 5px;
        }
        .card.transport .time { color: var(--transport-color); }
        .card.walk .time { color: var(--walk-color); }
        .card.tip .time { color: var(--tip-color); }
        .card.restaurant .time { color: var(--food-color); }

        .title {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .desc {
            color: #444;
            margin-bottom: 8px;
        }
        
        .steps {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            font-size: 0.9em;
            margin: 8px 0;
            border-left: 2px solid #ddd;
        }
        .step-item {
            margin-bottom: 6px;
            display: flex;
            align-items: flex-start;
        }
        .step-icon { margin-right: 8px; min-width: 15px; }

        .detail-row {
            display: flex;
            align-items: center;
            margin-top: 8px;
            font-size: 0.9em;
            color: var(--text-light);
            flex-wrap: wrap;
        }
        .icon { margin-right: 6px; }
        
        .alert {
            background-color: #fff3cd;
            color: #856404;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            font-size: 0.9em;
            border: 1px solid #ffeeba;
        }

        .copy-btn {
            background: white;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 2px 8px;
            font-size: 0.8em;
            cursor: pointer;
            margin-left: 8px;
            color: #555;
        }
        
        .action-link {
            display: inline-block;
            margin-top: 10px;
            text-decoration: none;
            color: var(--accent);
            font-weight: bold;
            font-size: 0.9em;
            margin-right: 15px;
        }

        /* Map Button Style */
        .map-btn {
            display: inline-block;
            background-color: #e6f7ff;
            color: #007bff;
            padding: 1px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            text-decoration: none;
            margin-left: 5px;
            border: 1px solid #b3e0ff;
        }

        .fab {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background-color: var(--primary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            cursor: pointer;
            z-index: 100;
            font-size: 1.2em;
        }
        
        .checklist-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .tag {
            background-color: #eee;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            color: #555;
            margin-right: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸ‡¯ğŸ‡µ æ—¥æœ¬å®¶æ—æ—…éŠ 2026</h1>
        <div class="subtitle">2026/02/14 - 2026/02/19</div>
    </header>

    <div class="nav-tabs">
        <div class="nav-tab active" onclick="switchTab('itinerary')">ğŸ“… è¡Œç¨‹</div>
        <div class="nav-tab" onclick="switchTab('guides')">ğŸš¶ æ”»ç•¥</div>
        <div class="nav-tab" onclick="switchTab('food')">ğŸ½ï¸ ç¾é£Ÿ</div>
        <div class="nav-tab" onclick="switchTab('tips')">ğŸ’ æº–å‚™</div>
    </div>

    <div id="itinerary" class="section active">
        <div id="timeline-container"></div>
    </div>

    <div id="guides" class="section">
        <div id="guides-container"></div>
    </div>

    <div id="food" class="section">
        <div id="food-container"></div>
    </div>
    
    <div id="tips" class="section">
        <div class="card tip">
            <span class="time">â„ï¸ è¼•äº•æ¾¤ 2æœˆç©¿æ­</span>
            <div class="title">é‹å­æ˜¯é—œéµï¼</div>
            <div class="desc">
                åœ°é¢å¯èƒ½æœ‰ç©é›ªæˆ–çµå†°ï¼Œè«‹ç‚ºå°å­©æº–å‚™ï¼š
            </div>
            <div class="steps">
                <div class="step-item"><span class="step-icon">ğŸ‘Ÿ</span>é˜²æ°´ã€é˜²æ»‘çš„é´å­ (ä¸€èˆ¬å¸†å¸ƒé‹æ¿•äº†æœƒå‡å‚·)</div>
                <div class="step-item"><span class="step-icon">ğŸ§¤</span>æ‰‹å¥—ã€åœå·¾ã€æ¯›å¸½ (æˆ¶å¤–æ´»å‹•å¿…å‚™)</div>
            </div>
        </div>

        <div class="card tip">
            <span class="time">ğŸ“± å¿…å‚™ App</span>
            <div class="title">æ—¥æœ¬è¨ˆç¨‹è»Šç¥å™¨</div>
            <div class="desc">
                åœ¨æ±äº¬æˆ–è¼•äº•æ¾¤ä¸æƒ³èµ°è·¯æ™‚ï¼Œç›´æ¥å«è»Šï¼š
            </div>
            <div class="steps">
                <div class="step-item"><span class="step-icon">ğŸš•</span><strong>GO Taxi</strong> æˆ– <strong>Uber</strong></div>
                <div class="step-item"><span class="step-icon">ğŸ’¡</span>è¨­å®šå¥½ä¿¡ç”¨å¡ï¼Œä¸Šä¸‹è»Šå…æ‰¾é›¶éŒ¢ï¼Œä¸”ä¸ç”¨è·Ÿå¸æ©Ÿæºé€šåœ°é»ã€‚</div>
            </div>
        </div>

        <div class="card tip">
            <span class="time">ğŸ›‚ å…¥å¢ƒæ‰‹çºŒ</span>
            <div class="title">Visit Japan Web</div>
            <div class="desc">
                <div class="checklist-item">âœ… è«‹åœ¨å‡ºç™¼å‰å¡«å¯«å®Œç•¢ï¼Œä¸¦å°‡ QR Code æˆªåœ–å­˜åœ¨æ‰‹æ©Ÿã€‚</div>
                <a href="https://vjw-lp.digital.go.jp/zh-hant/" target="_blank" class="action-link">ğŸ”— å‰å¾€å¡«å¯«</a>
            </div>
        </div>
    </div>

</div>

<div class="fab" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">ğŸ”</div>

<script>
    // --- è³‡æ–™å€ ---
    const tripData = [
        {
            date: "2026/02/14 (é€±å…­)",
            events: [
                {
                    type: "transport",
                    time: "ä¸‹åˆ/æ™šä¸Š",
                    title: "å‰å¾€æ¡ƒåœ’",
                    desc: "é«˜éµ å·¦ç‡Ÿ -> æ¡ƒåœ’ç«™",
                    steps: ["ğŸš„ é«˜éµæŠµé”æ¡ƒåœ’ç«™", "ğŸš• è½‰ä¹˜è¨ˆç¨‹è»Š/æ¥é§è»Šè‡³é£¯åº—"]
                },
                {
                    type: "hotel",
                    time: "15:00 Check-in",
                    title: "æ¡ƒåœ’å–œä¾†ç™»é…’åº—",
                    desc: "Superior 2 Queen Beds Room",
                    ref: "94533051",
                    location: "Sheraton Taoyuan Hotel",
                    notes: "å«æ—©é¤ | å»ºè­°é ç´„æ˜æ—©æ©Ÿå ´æ¥é§"
                }
            ]
        },
        {
            date: "2026/02/15 (é€±æ—¥)",
            events: [
                {
                    type: "flight",
                    time: "07:55 - 12:00",
                    title: "é•·æ¦®èˆªç©º BR184",
                    desc: "TPE (T2) âœˆï¸ NRT (T1)",
                    ref: "DBVM4U"
                },
                {
                    type: "food",
                    time: "13:00 - 13:30 (è½‰ä¹˜ç©ºæª”)",
                    title: "ğŸ± å¿…è²·ï¼šæ–°å¹¹ç·šä¾¿ç•¶",
                    desc: "æ±äº¬è»Šç«™ã€Œé§…å¼å±‹ ç¥­ã€ (æ”¹æœ­å…§)",
                    location: "é§…å¼å±‹ ç¥­"
                },
                {
                    type: "transport",
                    time: "13:00 - 15:30",
                    title: "æ©Ÿå ´ -> è¼•äº•æ¾¤",
                    steps: [
                        "ğŸ« æ©Ÿå ´ JR æ±æ—¥æœ¬ä¸­å¿ƒè³¼ç¥¨ (N'EX + æ–°å¹¹ç·š)",
                        "ğŸš† N'EX: æ©Ÿå ´ -> æ±äº¬ç«™ (B5æœˆå°)",
                        "ğŸš¶ è½‰ä¹˜: æ­é›»æ¢¯è‡³ 2F æ–°å¹¹ç·šæœˆå°",
                        "ğŸš„ æ–°å¹¹ç·š: æ±äº¬ -> è¼•äº•æ¾¤ (å—å£)",
                        "ğŸš• è¨ˆç¨‹è»Š: è¼•äº•æ¾¤ç«™ -> ç‹å­è¥¿é¤¨"
                    ],
                    alert: "è²·ç¥¨è¨˜å¾—å‡ºç¤ºè­·ç…§ï¼Œ10æ­²å°å­©è²·å…’ç«¥ç¥¨(åŠåƒ¹)ã€‚"
                },
                {
                    type: "hotel",
                    time: "15:00 Check-in",
                    title: "è¼•äº•æ¾¤ç‹å­å¤§é£¯åº—è¥¿é¤¨",
                    desc: "è±ªè¯éœ²å°é›™åºŠæˆ¿",
                    ref: "43795SF162083",
                    location: "Karuizawa Prince Hotel West"
                },
                {
                    type: "food",
                    time: "19:00",
                    title: "æ™šé¤: Primrose è‡ªåŠ©é¤",
                    desc: "é£¯åº—å…§",
                    ref: "GLL7HN",
                    alert: "âš ï¸ é£Ÿç‰©éæ•ï¼šå°å­©(è¦å­)ã€‚åƒ…ä¸€ä½æˆäººåƒç‰›è‚‰ã€‚"
                }
            ]
        },
        {
            date: "2026/02/16 (é€±ä¸€)",
            events: [
                {
                    type: "walk",
                    time: "11:00 - 14:00",
                    title: "é€€æˆ¿å¾Œï¼šèˆŠè¼•äº•æ¾¤æ•£ç­–",
                    desc: "è‹¥å¤©æ°£æ™´æœ—æ¨è–¦å‰å¾€ï¼Œè©³è¦‹ã€æ”»ç•¥ã€‘é ç±¤",
                    notes: "â„ï¸ å‚™æ¡ˆï¼šè‹¥å¤ªå†·æˆ–ä¸‹å¤§é›ªï¼Œæ”¹å»ç‹å­ Outlet"
                },
                {
                    type: "transport",
                    time: "14:30",
                    title: "å‰å¾€è™¹å¤•è«¾é›…",
                    desc: "ç‹å­è¥¿é¤¨/è»Šç«™ -> è™¹å¤•è«¾é›…",
                    steps: ["ğŸš• å¼·çƒˆå»ºè­°ç›´æ¥æ­è¨ˆç¨‹è»Š (ç´„Â¥3000)", "è¼•é¬†ç›´é”ï¼Œå…å»æ¥é§è»Šè½‰ä¹˜"]
                },
                {
                    type: "walk",
                    time: "17:00 (é»ƒæ˜)",
                    title: "ğŸ¿ï¸ ç‰¹åˆ¥æ¨è–¦ï¼šé£›é¼ è§€å¯Ÿ",
                    desc: "Picchio ç”Ÿæ…‹ä¸­å¿ƒ (é£¯åº—æ—)",
                    location: "Picchio Karuizawa",
                    notes: "å¯è©¢å•æ«ƒå°æˆ–é ç´„ï¼Œçœ‹é‡ç”Ÿé£›é¼ æ»‘ç¿”å›å®¶ï¼"
                },
                {
                    type: "hotel",
                    time: "15:00 Check-in",
                    title: "è™¹å¤•è«¾é›… è¼•äº•æ¾¤",
                    desc: "æ°´æ³¢æˆ¿ (Mizunami) - 2æ™š",
                    ref: "pr1gbzaq1x",
                    location: "HOSHINOYA Karuizawa",
                    notes: "ä¸å«é¤é£Ÿ | å·²å…¨é¡é ä»˜"
                }
            ]
        },
        {
            date: "2026/02/17 (é€±äºŒ)",
            events: [
                {
                    type: "walk",
                    time: "å…¨æ—¥",
                    title: "åº¦å‡æ¨¡å¼ï¼šæ¦†æ¨¹è¡—å°é®",
                    desc: "è©³è¦‹ã€æ”»ç•¥ã€‘é ç±¤",
                    steps: [
                        "â›¸ï¸ èœ»èœ“ä¹‹æ¹¯æ—æºœå†° (å¿…ç©æ¤…å­é›ªæ©‡)",
                        "â˜• ä¸¸å±±å’–å•¡å–å† è»å’–å•¡"
                    ]
                }
            ]
        },
        {
            date: "2026/02/18 (é€±ä¸‰)",
            events: [
                {
                    type: "transport",
                    time: "12:00 é€€æˆ¿å¾Œ",
                    title: "ç§»å‹•è‡³æ±äº¬",
                    steps: [
                        "ğŸš„ æ–°å¹¹ç·š: è¼•äº•æ¾¤ -> æ±äº¬ç«™",
                        "ğŸš• é—œéµ: æ±äº¬ç«™æ­è¨ˆç¨‹è»Šç›´é” Conrad"
                    ]
                },
                {
                    type: "hotel",
                    time: "15:00 Check-in",
                    title: "æ±äº¬åº·èŠå¾·é…’åº—",
                    desc: "King Exe Suite Bay View",
                    ref: "3316059736",
                    location: "Conrad Tokyo"
                },
                {
                    type: "walk",
                    time: "ä¸‹åˆ/æ™šé–“",
                    title: "âš¡ å¿…é€›ï¼šå¯¶å¯å¤¢ä¸­å¿ƒ DX",
                    desc: "æ—¥æœ¬æ©‹é«˜å³¶å±‹ S.C. æ±é¤¨ 5F",
                    location: "Pokemon Center Tokyo DX",
                    notes: "é›¢é£¯åº—åƒ… 5-8 åˆ†é˜è»Šç¨‹ï¼Œå°å­©é¦–é¸ï¼"
                },
                {
                    type: "food",
                    time: "18:00 - 20:00",
                    title: "ğŸ¸ æ™šé¤ç­–ç•¥ï¼šè¡Œæ”¿é…’å»Š",
                    desc: "37æ¨“ Executive Lounge",
                    steps: [
                        "ğŸ½ï¸ å‚æ™šé›å°¾é…’æ™‚æ®µæä¾›ç†±é£Ÿèˆ‡å°é»",
                        "ğŸ’¡ å»ºè­°ï¼šè‹¥å°å­©ç´¯äº†ï¼Œå¯ç›´æ¥æŠŠé€™ç•¶ä½œæ™šé¤ï¼Œå¤§äººå°é…Œæ”¾é¬†ã€‚"
                    ]
                }
            ]
        },
        {
            date: "2026/02/19 (é€±å››)",
            events: [
                {
                    type: "hotel",
                    time: "ä¸Šåˆ",
                    title: "æ‚ é–’æ—©æ™¨",
                    desc: "äº«ç”¨é£¯åº—æ—©é¤æˆ–æ•´ç†è¡Œæ",
                    notes: "äº«å— Conrad çš„æµ·æ™¯æˆ¿å…‰ç·š"
                },
                {
                    type: "transport",
                    time: "10:30 å‡ºç™¼",
                    title: "å°ˆè»Šæ¥é€è‡³æ©Ÿå ´",
                    desc: "é£¯åº— 1F å¤§å»³é›†åˆ (Minivan)",
                    notes: "å·²å‚™è¨»ï¼š1å€‹å¢é«˜å¢Š"
                },
                {
                    type: "flight",
                    time: "14:00 - 17:05",
                    title: "é•·æ¦®èˆªç©º BR197",
                    desc: "NRT (T1) âœˆï¸ TPE (T2)"
                },
                {
                    type: "transport",
                    time: "20:10 - 21:45",
                    title: "å°ç£é«˜éµ 681",
                    desc: "æ¡ƒåœ’ -> å·¦ç‡Ÿ"
                }
            ]
        }
    ];

    const guideData = [
        {
            title: "ğŸŸ¢ èˆŠè¼•äº•æ¾¤éŠ€åº§é€š (ç•°åœ‹é¢¨æƒ…)",
            tag: "é©åˆ: 2/16 ä¸­åˆ",
            content: [
                { text: "ğŸ° **Miffy Kitchen (ç±³é£›å…”)**: å°å­©å¿…é€›ï¼Œé€ å‹éºµåŒ…è¶…å¯æ„›ã€‚", query: "Miffy Kitchen Karuizawa" },
                { text: "ğŸ¥– **French Bakery**: ç´„ç¿°è—å„‚æœ€æ„›çš„éºµåŒ…åº—ã€‚", query: "French Bakery Karuizawa" },
                { text: "â›ª **è–ä¿ç¾…æ•™å ‚**: å··å¼„è£¡çš„æœ¨é€ æ•™å ‚ã€‚", query: "Karuizawa St. Paul's Catholic Church" },
                { text: "ğŸŒ­ **è…¸è©°å±‹**: ç¾çƒ¤å¾·å¼é¦™è…¸ï¼Œå¤©å†·åƒå¾ˆéç™®ã€‚", query: "è…¸è©°å±‹ è»½äº•æ²¢éŠ€åº§ä¸­å¤®åº—" },
                { text: "âš ï¸ **é›¨å¤©/é›ªå¤©å‚™æ¡ˆ**: æ”¹å» **è¼•äº•æ¾¤ç‹å­ Outlet**ã€‚", query: "Karuizawa Prince Shopping Plaza" }
            ]
        },
        {
            title: "ğŸ”µ æ¦†æ¨¹è¡—å°é® & å†°ä¸Šæ™‚å…‰",
            tag: "é©åˆ: 2/17 å…¨æ—¥ (è™¹å¤•è«¾é›…æ—)",
            content: [
                { text: "â›¸ï¸ **Kera-Ike æºœå†°å ´**: **å¤§æ¨ã€Œæ¤…å­é›ªæ©‡ã€**ï¼Œå°å­©ä¸ç”¨æœƒæºœä¹Ÿèƒ½åè‘—ç©ï¼", query: "Kera-Ike Ice Rink" },
                { text: "ğŸ¿ï¸ **Picchio ç”Ÿæ…‹ä¸­å¿ƒ**: æ¨è–¦é ç´„é»ƒæ˜çš„ã€Œé£›é¼ æ­¸å·¢è§€å¯Ÿã€ã€‚", query: "Picchio Karuizawa" },
                { text: "â˜• **ä¸¸å±±å’–å•¡**: ä¸–ç•Œå† è»ç´šå’–å•¡ï¼Œæœ‰æ•´é¢æ›¸ç‰†ã€‚", query: "Maruyama Coffee Harunire Terrace" }
            ]
        },
        {
            title: "âš¡ æ±äº¬è¦ªå­è³¼ç‰©é¦–é¸",
            tag: "é©åˆ: 2/18 ä¸‹åˆ/æ™šé–“",
            content: [
                { text: "ğŸ“ **å¯¶å¯å¤¢ä¸­å¿ƒ Tokyo DX**: æ—¥æœ¬æ©‹é«˜å³¶å±‹ S.C. æ±é¤¨ 5Fï¼Œæœ‰å¡æ¯”ç¸èˆ‡å°ˆå±¬Cafeã€‚", query: "Pokemon Center Tokyo DX" },
                { text: "ğŸ’¡ **äº¤é€š**: å¾ Conrad æ­è¨ˆç¨‹è»Šç´„ Â¥800-1000ï¼Œéå¸¸è¿‘ã€‚", query: "" }
            ]
        },
        {
            title: "ğŸ”´ éŠ€åº§ç¶“å…¸ & æœ¨æ‘å®¶ç´…è±†éºµåŒ…",
            tag: "é©åˆ: 2/18 å‚æ™š",
            content: [
                { text: "ğŸ“ **éŠ€åº§ æœ¨æ‘å®¶**: ç´…è±†éºµåŒ…ç™¼æºåœ°ã€‚å¿…è²· **é…’ç¨® æ«»** èˆ‡ **é…’ç¨® å°å€‰**ã€‚", query: "Ginza Kimuraya" },
                { text: "âœï¸ **ä¼Šæ±å±‹ (G.Itoya)**: æ–‡å…·æ§å¤©å ‚ï¼Œ10æ­²å°æœ‹å‹æœƒæ„›æ­»é€™è£¡ã€‚", query: "G. Itoya" },
                { text: "ğŸ‘• **UNIQLO éŠ€åº§**: 12å±¤æ¨“ä¸–ç•Œæ——è‰¦åº—ã€‚", query: "UNIQLO Ginza" }
            ]
        }
    ];

    const foodData = [
        {
            location: "ğŸ“ èˆŠè¼•äº•æ¾¤éŠ€åº§ (2/16 åˆé¤)",
            restaurants: [
                {
                    name: "å·ä¸Šåºµ (Kawakamian)",
                    type: "è•éº¥éºµ",
                    desc: "æ‹›ç‰Œç‚¸å¤§è¦å¤©å©¦ç¾…ã€‚âš ï¸ **æ³¨æ„**: è¦éæ•å°å­©è«‹æ”¹é»ã€Œé´¨è‚‰è•éº¥éºµã€æˆ–ã€Œæ ¸æ¡ƒé†¬è•éº¥éºµã€ã€‚",
                    query: "Kawakami An Karuizawa"
                },
                {
                    name: "é…¢é‡æ­£ä¹‹ (Suaju)",
                    type: "æ—¥å¼å®šé£Ÿ",
                    desc: "å‘³å™Œæ–™ç†èˆ‡éŠ…é‹é£¯ã€‚**éç‰›å‹å–„**ï¼šçƒ¤é­šèˆ‡ç‚¸é›å®šé£Ÿéå¸¸ç¾å‘³ï¼Œå°å­©æ¥å—åº¦é«˜ã€‚",
                    query: "Suaju Karuizawa"
                },
                {
                    name: "Atelier de Fromage",
                    type: "èµ·å¸æ–™ç†",
                    desc: "èµ·å¸é‹ & ç„—çƒ¤å’–å“©ã€‚ç†±é¨°é¨°çš„èµ·å¸æ²¾éºµåŒ…ï¼Œå†¬å¤©åƒæœ€æº«æš–ã€‚",
                    query: "Atelier de Fromage Kyukaruizawa"
                }
            ]
        },
        {
            location: "ğŸ“ æ¦†æ¨¹è¡—å°é® / è™¹å¤•è«¾é›… (2/17 åˆæ™šé¤)",
            restaurants: [
                {
                    name: "æ‘æ°‘é£Ÿå ‚ (Sonmin-Shokudo)",
                    type: "æ—¥å¼å®¶åº­æ–™ç†",
                    desc: "æ˜Ÿé‡å€å¿…åƒã€‚ç¨®é¡å¤š(ç«é‹ã€ç‚¸è±¬æ’ã€ä¸¼é£¯)ï¼Œç’°å¢ƒèˆ’é©ï¼Œ**æ¥µåº¦é©åˆå®¶åº­**ã€‚",
                    query: "Sonmin-Shokudo"
                },
                {
                    name: "il sogno",
                    type: "ç¾©å¼æ–™ç†",
                    desc: "çª¯çƒ¤æŠ«è–©èˆ‡ç¾©å¤§åˆ©éºµã€‚è‹¥å°å­©æƒ³åƒè¥¿å¼å£å‘³çš„é¦–é¸ã€‚",
                    query: "il sogno Karuizawa"
                },
                {
                    name: "å¸Œé ˆæ— (Kishin)",
                    type: "ä¸­å¼æ–™ç†",
                    desc: "æ“”æ“”éºµååº—ï¼Œä¹Ÿæœ‰ä¸è¾£çš„æ¹¯éºµèˆ‡ç‚’é£¯çµ¦å°å­©ã€‚",
                    query: "Kishin Karuizawa"
                }
            ]
        },
        {
            location: "ğŸ“ è¼•äº•æ¾¤ç‹å­ Outlet (å‚™æ¡ˆ)",
            restaurants: [
                {
                    name: "æ˜æ²»äº­ (Meijitei)",
                    type: "é†¬æ±ç‚¸è±¬æ’ä¸¼",
                    desc: "é•·é‡ç¸£åç‰©ã€‚**éç‰›å‹å–„**é¦–é¸ï¼Œè±¬æ’é…¥è„†é†¬æ±æ¿ƒéƒï¼Œä¸€å®šè¦è©¦è©¦ã€‚",
                    query: "Meijitei Karuizawa Prince Shopping Plaza"
                },
                {
                    name: "ç¯‰åœ°æ™´å‰ (Tsukiji Harekichi)",
                    type: "å£½å¸",
                    desc: "æ–°é®®å£½å¸ã€‚å¯å–®é»é¿é–‹è¦å­ã€‚",
                    query: "Tsukiji Harekichi Karuizawa"
                }
            ]
        },
        {
            location: "ğŸ“ æ±äº¬éŠ€åº§ / æ±ç•™ (2/18 æ™šé¤)",
            restaurants: [
                {
                    name: "é³¥éŠ€ (Toriggin) éŠ€åº§æœ¬åº—",
                    type: "é‡œé£¯ & ç‡’é³¥",
                    desc: "éŠ€åº§è€èˆ–ã€‚ä¸»æ‰“**é›è‚‰ä¸²ç‡’**èˆ‡é‡œé£¯ï¼Œå®Œå…¨**ä¸åƒç‰›ä¹Ÿæ²’å•é¡Œ**ï¼Œæ°£æ°›ç†±é¬§ã€‚",
                    query: "Toriggin Ginza"
                },
                {
                    name: "ä½è—¤é¤ŠåŠ© (Satou Yosuke)",
                    type: "ç¨»åº­çƒé¾éºµ",
                    desc: "éºµæ¢ç´°æ»‘å£æ„Ÿæ¥µä½³ï¼Œå°å­©é€šå¸¸æœƒåƒå…‰å…‰ã€‚æ²¾é†¬æœ‰èŠéº»èˆ‡é†¬æ²¹å…©ç¨®ã€‚",
                    query: "Satou Yosuke Ginza"
                },
                {
                    name: "Bubby's æ±ç•™",
                    type: "ç¾å¼é¤å»³",
                    desc: "é›¢ Conrad å¾ˆè¿‘ã€‚æœ‰æ¼¢å ¡ä¹Ÿæœ‰**è˜‹æœæ´¾**ï¼Œé©åˆä¸æƒ³èµ°å¤ªé çš„é¸æ“‡ã€‚",
                    query: "Bubby's Shiodome"
                }
            ]
        }
    ];

    // --- æ¸²æŸ“å‡½å¼ ---
    function renderTimeline() {
        const container = document.getElementById('timeline-container');
        let html = '';

        tripData.forEach(day => {
            let eventsHtml = '';
            day.events.forEach(event => {
                let extraHtml = '';
                if (event.ref) {
                    extraHtml += `<div class="detail-row"><span class="icon">ğŸ”–</span>è¨‚è™Ÿ: <strong>${event.ref}</strong><button class="copy-btn" onclick="copyToClipboard('${event.ref}')">è¤‡è£½</button></div>`;
                }
                if (event.location) {
                    extraHtml += `<a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(event.location)}" target="_blank" class="action-link">ğŸ“ åœ°åœ–</a>`;
                }
                if (event.steps) {
                    let stepsHtml = event.steps.map(step => `<div class="step-item"><span class="step-icon">â–ªï¸</span>${step}</div>`).join('');
                    extraHtml += `<div class="steps">${stepsHtml}</div>`;
                }
                if (event.alert) {
                    extraHtml += `<div class="alert">${event.alert}</div>`;
                }

                eventsHtml += `
                    <div class="card ${event.type}">
                        <span class="time">${event.time}</span>
                        <div class="title">${event.title}</div>
                        <div class="desc">${event.desc}</div>
                        ${event.notes ? `<div class="detail-row" style="color:#555">â„¹ï¸ ${event.notes}</div>` : ''}
                        ${extraHtml}
                    </div>
                `;
            });
            html += `<div class="day-group"><div class="date-header">${day.date}</div>${eventsHtml}</div>`;
        });
        container.innerHTML = html;
    }

    function renderGuides() {
        const container = document.getElementById('guides-container');
        let html = '';

        guideData.forEach(guide => {
            let contentHtml = guide.content.map(item => {
                let formatted = item.text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                let mapBtn = item.query 
                    ? `<a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.query)}" target="_blank" class="map-btn">ğŸ“å°èˆª</a>` 
                    : '';
                return `<div style="margin-bottom:8px;">${formatted} ${mapBtn}</div>`;
            }).join('');

            html += `
                <div class="card walk">
                    <div class="title">${guide.title}</div>
                    <div class="time" style="font-weight:normal; font-size:0.85em; margin-bottom:10px;">${guide.tag}</div>
                    <div class="desc">${contentHtml}</div>
                </div>
            `;
        });
        container.innerHTML = html;
    }

    function renderFood() {
        const container = document.getElementById('food-container');
        let html = '';

        foodData.forEach(group => {
            let itemsHtml = group.restaurants.map(rest => {
                let mapBtn = rest.query 
                    ? `<a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(rest.query)}" target="_blank" class="map-btn">ğŸ“å°èˆª</a>` 
                    : '';
                let descFormatted = rest.desc.replace(/\*\*(.*?)\*\*/g, '<span style="color:#e74c3c; font-weight:bold;">$1</span>');
                
                return `
                    <div style="margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px dashed #eee;">
                        <div style="font-weight:bold; font-size:1.05em; color:#2c3e50;">
                            ${rest.name} <span class="tag">${rest.type}</span> ${mapBtn}
                        </div>
                        <div style="font-size:0.9em; color:#555; margin-top:4px;">${descFormatted}</div>
                    </div>
                `;
            }).join('');

            html += `
                <div class="card restaurant">
                    <div class="title" style="margin-bottom:15px; border-bottom:2px solid #eee; padding-bottom:5px;">${group.location}</div>
                    ${itemsHtml}
                </div>
            `;
        });
        container.innerHTML = html;
    }

    function switchTab(tabId) {
        document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        document.querySelectorAll('.nav-tab').forEach(el => el.classList.remove('active'));
        // Find the specific tab element that was clicked
        // Since we are using inline onclick, we need to manually match
        // A simpler way is to just add 'active' to all tabs that match the ID text, but here:
        const tabs = document.querySelectorAll('.nav-tab');
        if(tabId === 'itinerary') tabs[0].classList.add('active');
        if(tabId === 'guides') tabs[1].classList.add('active');
        if(tabId === 'food') tabs[2].classList.add('active');
        if(tabId === 'tips') tabs[3].classList.add('active');
        
        window.scrollTo({top: 0});
    }

    function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(() => alert('å·²è¤‡è£½: ' + text));
    }

    renderTimeline();
    renderGuides();
    renderFood();
</script>

</body>
</html>
